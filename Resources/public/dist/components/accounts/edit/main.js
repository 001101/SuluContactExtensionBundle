define(["sulucontact/components/accounts/edit/main","services/sulucontactextension/account-header","services/sulucontactextension/account-router","services/sulucontactextension/account-manager","services/sulucontact/contact-router"],function(a,b,c,d,e){"use strict";var f,g=function(){},h=function(){},i=function(a){this.sandbox.emit("sulu.header.toolbar.item.loading","settings"),d.convertAccount(this.data.id,a).then(function(a){this.data=a,this.sandbox.emit("sulu.header.toolbar.item.enable","settings",!0),b.setHeader.call(this,this.data),this.sandbox.emit("sulu.header.toolbar.items.set","settings",b.getItemsForConvertOperation.call(this,this.data))}.bind(this))};return g.prototype=a,g.prototype.constructor=g,f=new g,h.prototype=new g,h.prototype.constructor=h,h.prototype.header=function(){var a=f.header.call(this);return this.data.id&&(a.toolbar.buttons.settings={options:{dropdownItems:b.getItemsForConvertOperation.call(this,this.data)}}),a},h.prototype.loadComponentData=function(){var a=$.Deferred();return f.loadComponentData.call(this).then(function(c){this.options.accountType&&(c.type=b.getAccountTypeIdByTypeName(this.options.accountType)),a.resolve(c)}.bind(this)),a},h.prototype.initialize=function(){f.initialize.call(this),b.setHeader.call(this,this.data),this.sandbox.dom.off("#sidebar"),this.sandbox.dom.on("#sidebar","click",function(a){var b=this.sandbox.dom.data(a.currentTarget,"id");e.toEdit(b)}.bind(this),"#main-contact")},h.prototype.toList=function(){var a=b.getAccountType(this.data);c.toList(a.name)},h.prototype.bindCustomEvents=function(){f.bindCustomEvents.call(this),this.sandbox.on("sulu.contacts.account.convert",i.bind(this))},new h});