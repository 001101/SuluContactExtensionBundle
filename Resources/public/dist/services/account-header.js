define(["app-config"],function(a){"use strict";var b=function(a){var b;if(a||a.hasownProperty("tabs"))for(b in a.tabs)a.tabs[b]===!0&&this.sandbox.emit("husky.tabs.header.item.show",b)},c=function(b,c){var d,e,f,g,h,i=0,j=a.getSection("sulu-contact-extension");if(!j||j.length>0||!j.hasOwnProperty("accountTypes"))return!1;h=j.accountTypes,b&&b.hasOwnProperty("id")&&b.hasOwnProperty("type")?(d=b.type,e="id"):c?(d=c,e="name"):(d=0,e="id");for(f in h)if(g=h[f],g[e]===d){i=g;break}return i},d=function(a,b){var c;return this.sandbox.util.each(a,function(a,d){return d.name===b?(c={title:this.sandbox.translate(d.translation+".conversion"),callback:function(){this.sandbox.emit("sulu.contacts.account.convert",d)}.bind(this)},!1):void 0}.bind(this)),c},e=function(a){a.convertableTo&&Object.keys(a.convertableTo).length||this.sandbox.emit("sulu.header.toolbar.item.hide","settings")};return{setHeader:function(a){var d=c.call(this,{id:a.type,type:a.type});b.call(this,d),e.call(this,d)},getItemsForConvertOperation:function(b){var e,f=[],g=a.getSection("sulu-contact-extension").accountTypes;return e=c.call(this,{id:b.type,type:b.type}),this.sandbox.util.each(e.convertableTo,function(a,b){if(b){var c=d.call(this,g,a);f.push(c)}}.bind(this)),f},getAccountType:function(a,b){return c.call(this,a,b)},getAccountTypeIdByTypeName:function(a){return c.call(this,null,a).id},getAccountTypeNameById:function(a){return this.getAccountTypeById(a).name},getAccountTypeById:function(a){return c.call(this,{id:a,type:a})}}});